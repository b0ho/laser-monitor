// 주기적으로 상태 업데이트 setInterval(updateStatus, 1000);
setInterval(updateCaptureHistory, 5000); // 5초마다 히스토리 업데이트 function
toggleMonitoring() { fetch("/toggle_monitoring") .then((response) =>
response.json()) .then((data) => { const btn =
document.getElementById("monitoringBtn"); btn.textContent = data.is_monitoring ?
"모니터링 중지" : "모니터링 시작"; if (data.is_monitoring) {
updateCaptureHistory(); // 모니터링 시작 시 즉시 업데이트 } }); } function
captureCurrentFrame() { fetch("/capture_current") .then((response) =>
response.json()) .then((data) => { if (data.success) { const currentCapture =
document.getElementById("currentCapture"); currentCapture.innerHTML = `
<div class="capture-item">
  <img src="${data.capture.image_url}" alt="현재 캡처" />
  <div class="capture-time">${data.capture.time} - ${data.capture.status}</div>
</div>
`; updateCaptureHistory(); // 캡처 성공 시 히스토리 업데이트 } else {
alert(data.error || "캡처에 실패했습니다."); } }); } .video-container {
background-color: white; padding: 20px; border-radius: 5px; margin-bottom: 20px;
box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); } .video-container img { width: 100%;
height: auto; } .capture-item { position: relative; padding: 10px; border: 1px
solid #ddd; border-radius: 5px; } .capture-item img { width: 100%; height: auto;
}
